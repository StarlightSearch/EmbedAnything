[workspace]
members = [
    "rust",
    "python",
    ]
# Python package needs to be built by maturin.
exclude = ["python"]
resolver = "2"

[workspace.package]
edition = "2021"
license = "Apache-2.0"
description = "Embed anything at lightning speed"
repository = "https://github.com/StarlightSearch/EmbedAnything"
authors = ["Akshay Ballal <arballal95@gmail.com>"]
exclude = ["test_files/*", "python", "*.py", "pyproject.toml", "examples/images/*", "mkdocs.yml", "docs/*", "tests/*", ".github", "Dockerfile", "docs"]

[workspace.dependencies]
pdf-extract = "0.7.7"
candle-nn = { git = "https://github.com/huggingface/candle.git", version = "0.7.2" }
candle-transformers = { git = "https://github.com/huggingface/candle.git", version = "0.7.2" }
candle-core = { git = "https://github.com/huggingface/candle.git", version = "0.7.2" }
candle-flash-attn = { git = "https://github.com/huggingface/candle.git", version = "0.7.2" }

ort = {version = "=2.0.0-rc.8", features = ["cuda"]}
strum = "0.26.1"
strum_macros = "0.26"

[patch.crates-io]
pdf-extract = { git = "https://github.com/jrmuizel/pdf-extract.git", rev = "refs/pull/91/head" }

[profile.dev]
rpath = true
 
[profile.release]
rpath = true